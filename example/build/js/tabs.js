let tabParent,tabs=document.querySelectorAll(".tab-item"),bTabs=document.querySelectorAll(".browser .tab-menu .tab-item");const closes=document.querySelectorAll(".btn-close"),add=document.querySelector(".tab-plus");function selectTab({target:e}){for(var t of(tabParent=e.parentElement).children)t.classList.remove("active");e.classList.add("active")}function removeTab(e){var t=e.target.parentElement;t.classList.contains("active")&&t.previousSibling.classList.add("active"),t.remove(),setWidth(),e.stopPropagation()}function addTab(){var e,t;15<=tabs.length?alert("허용 탭 초과"):(e=createNewTab(),t=createCloseButton(),e.append(t),document.querySelector(".browser .tab-menu").append(e),setWidth())}function createNewTab(){var e=document.createElement("div"),t=document.createElement("span");return e.classList.add("tab-item","tab"),t.classList.add("tabText","ellipsis"),t.textContent="new item",e.append(t),e.addEventListener("click",e=>selectTab(e)),e}function createCloseButton(){var e=document.createElement("div"),t=document.createElement("i");return e.classList.add("btn-close","ga-button","icon","tiny","circle"),t.classList.add("fa","fa-close"),e.append(t),e.addEventListener("click",e=>removeTab(e)),e}function setWidth(){(tabs=document.querySelectorAll(".browser .tab-menu .tab-item")).forEach(e=>{e.style.width=100/tabs.length+"%"})}tabs.forEach(e=>{e.addEventListener("click",e=>selectTab(e))}),closes.forEach(e=>{e.addEventListener("click",e=>removeTab(e))}),add&&add.addEventListener("click",e=>addTab(e)),0<bTabs.length&&bTabs[0].classList.add("active"),setWidth();