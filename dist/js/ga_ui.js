const modeMatch=window.matchMedia("(prefers-color-scheme: dark)"),buttons=(modeMatch.matches?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.add("light-mode"),document.querySelectorAll(".ga-buttons"));function selectButtons(e,t){var a;for(a of t.querySelectorAll(".ga-button"))a.classList.remove("selected"),a===e&&a.classList.add("selected")}buttons.forEach(t=>{t.addEventListener("click",e=>{selectButtons(e.target,t)})});const lastDayList=[31,28,31,30,31,30,31,31,30,31,30,31],days=["일","월","화","수","목","금","토"],wrapper=document.querySelector(".cell-wrapper"),getDate=()=>{return{year:(new Date).getFullYear(),month:(new Date).getMonth()+1,date:(new Date).getDate()}},{year,month,date}=getDate(),getStartDay=(console.log(date),(e,t)=>{var a=365*(e-1),n=Math.floor((e-1)/4)-Math.floor((e-1)/100)+Math.floor((e-1)/400);let s=1;lastDayList[1]=1<t&&e%4==0&&(e%100!=0||e%400==0)?29:28;for(let e=0;e<t-1;e++)s+=lastDayList[e];return(a+n+s)%7});function setCalendar(e,t){var a=getStartDay(e,t);let n=[];var s=lastDayList[t-1],o=1===t?31:lastDayList[t-2];let c=1,l=1;for(let t=1;t<7;t++)for(let e=0;e<7;e++){var d=document.createElement("span");d.style["--x"]=e,d.style["--y"]=t,d.setAttribute("style",`--x:${e};--y: `+t),d.classList.add("cell"),1===t&&e<a?(d.classList.add("disabled"),d.dataset.name=o+(e-a)+1):c<=s?(0===e&&d.classList.add("sun"),6===e&&d.classList.add("sat"),c===date&&d.classList.add("today"),d.dataset.name=c,c++):(d.classList.add("disabled"),d.dataset.name=l,l++),n.push(d),wrapper.append(d)}return n=7<l?n.slice(0,-7):n}setCalendar(year,month);const checkbox=document.querySelectorAll(".ga-checkbox");function changChecked(e,t,a=null){e=e.previousSibling;e.checked=a||!e.checked,t.classList.toggle("checked")}function selectRadio(e,t){var a,n=e.previousSibling.getAttribute("name");for(a of document.querySelectorAll(`[name="${n}"]`))a.checked=!1,a.parentElement.classList.remove("checked");changChecked(e,t)}checkbox.forEach(t=>{-1<t.className.indexOf("radio")?t.addEventListener("click",e=>{selectRadio(e.target,t)}):t.addEventListener("click",e=>{changChecked(e.target,t)})});const editInput=document.querySelector(".edit"),editToggle=document.querySelector(".edit-btn"),inputEl=(editToggle.onclick=()=>{editInput.classList.contains("editable")?(editToggle.innerHTML="<i class='fa fa-pen' />",editInput.classList.remove("editable")):(editToggle.innerHTML="<i class='fa fa-check' />",editInput.classList.add("editable"),editInput.querySelector("input").focus())},editInput.querySelector("input"));inputEl.onkeydown=e=>{console.log(e)};let list;const items=document.querySelectorAll(".ga-list > .item");let selectedItem;function selectItem({currentTarget:e,clientX:t,clientY:a}){list=e.parentNode,console.log(document.elementFromPoint(t,a));for(var n of list.children)n.classList.remove("selected");e.classList.add("selected"),selectedItem=e.textContent}function onMouseDown({currentTarget:e}){console.log(e),e.classList.add("draggable-item-active"),e.addEventListener("drag",e=>{onDrag(e)}),e.addEventListener("dragend",e=>{onDragEnd(e)})}function onDrag({currentTarget:e,clientX:t,clientY:a}){list=e.parentNode;t=null===document.elementFromPoint(t,a)?e:document.elementFromPoint(t,a);list===t.parentNode&&(t=t!==e.nextSibling?t:t.nextSibling,list.insertBefore(e,t))}function onDragEnd({currentTarget:e}){console.log(e),e.classList.remove("draggable-item-active")}items.forEach(e=>{e.addEventListener("click",e=>selectItem(e)),e.addEventListener("mousedown",e=>{onMouseDown(e)})});const showB=document.querySelector(".show-btn");let closeB=null;const modal=document.querySelector(".ga-modal-container"),closeModal=()=>{modal.classList.remove("open")},panel=(closeB=document.querySelector(".close"),showB.onclick=()=>{modal.classList.add("open")},closeB.onclick=()=>{closeModal()},document.querySelector(".ga-panel.collapse")),toggle=panel.querySelector(".panel-toggle-btn"),content=document.querySelector(".content-wrapper"),selectBoxes=(toggle.addEventListener("click",e=>{panel.classList.contains("open")?panel.classList.remove("open"):panel.classList.add("open")}),document.querySelectorAll(".ga-select-box"));let targetElement;function toggleSelectBox(e){e.classList.toggle("open"),selectedItem&&(e.querySelector("input").value=selectedItem)}selectBoxes.forEach(t=>{document.addEventListener("click",e=>{t.contains(e.target)?toggleSelectBox(t):t.classList.remove("open")})});let tabParent,tabs=document.querySelectorAll(".tab-item"),bTabs=document.querySelectorAll(".browser .tab-menu .tab-item");const closes=document.querySelectorAll(".btn-close"),add=document.querySelector(".tab-plus");function selectTab({target:e}){for(var t of(tabParent=e.parentElement).children)t.classList.remove("active");e.classList.add("active")}function removeTab(e){var t=e.target.parentElement;t.classList.contains("active")&&t.previousSibling.classList.add("active"),t.remove(),setWidth(),e.stopPropagation()}function addTab(){var e,t;15<=tabs.length?alert("허용 탭 초과"):(e=createNewTab(),t=createCloseButton(),e.append(t),document.querySelector(".browser .tab-menu").append(e),setWidth())}function createNewTab(){var e=document.createElement("div"),t=document.createElement("span");return e.classList.add("tab-item","tab"),t.classList.add("tabText","ellipsis"),t.textContent="new item",e.append(t),e.addEventListener("click",e=>selectTab(e)),e}function createCloseButton(){var e=document.createElement("div"),t=document.createElement("i");return e.classList.add("btn-close","ga-button","icon","tiny","circle"),t.classList.add("fa","fa-close"),e.append(t),e.addEventListener("click",e=>removeTab(e)),e}function setWidth(){(tabs=document.querySelectorAll(".browser .tab-menu .tab-item")).forEach(e=>{e.style.width=100/tabs.length+"%"})}tabs.forEach(e=>{e.addEventListener("click",e=>selectTab(e))}),closes.forEach(e=>{e.addEventListener("click",e=>removeTab(e))}),add.addEventListener("click",e=>addTab(e)),bTabs[0].classList.add("active"),setWidth();const openBtn=document.querySelector(".open-btn"),clearBtn=document.querySelector(".clear-btn"),statusIcon={success:"circle-check",info:"circle-info",danger:"circle-exclamation",attention:"triangle-exclamation",importance:"star"};function toastBoard(){let l=null,d=[],r=0;const i=()=>{var e=document.createElement("div");return e.classList.add("toast_board"),e};return{addToast:(e,t,a)=>{l=(()=>{let e=null;const t="toast_board";if(r=r<0?0:r)e=document.querySelector(`.${t}`);else{e=i();document.body.appendChild(e)}return e})();const n=((e,t,a)=>{const n=document.createElement("div"),s=document.createElement("div");s.classList.add("toast-contents"),s.innerHTML=`[<span class="bolder">toast_${r}</span>]${t}`;let o=document.createElement("div");if(n.classList.add("toast"),a.theme==="light")n.classList.add(`ga-${e}-light`);else if(a.theme==="icon")o.classList.add(`ga-${e}-text`);else if(a.theme==="icon-bg")o.classList.add(`ga-${e}`);else if(a.theme==="line"){n.classList.add(`line-left`);s.classList.add(`ga-${e}-border`);a.toastIcon=false}else n.classList.add(`ga-${e}`);if(a.toastIcon){o.classList.add("toast-close");o.innerHTML=`<i class="fa fa-${statusIcon[e]||"hexagon-exclamation"}" />`;n.appendChild(o)}if(a.round)n.classList.add("round");return n.appendChild(s),n})(e,t,a);e=(()=>{const e=document.createElement("div");return e.classList.add("toast-close"),e.innerHTML=`<i class="fa fa-xmark" />`,e})();let s=null;a.closeButton&&n.appendChild(e),console.log(r),l.classList.add(a.containerClass);const o=()=>{r--,n.classList.remove("fade"),n.addEventListener("transitionend",()=>{console.log("interval:",s),c(),clearTimeout(s)})},c=(l.appendChild(n),n.classList.add("fade"),s=setTimeout(o,5e3),d.push(n),r++,a.closeButton&&(e.onclick=e=>{e.stopPropagation(),o()}),a.clickToClose&&(n.onclick=()=>{o()}),()=>{n.remove(),r||l.remove()})},clearContainer:()=>{var t=l.querySelectorAll(".toast");for(let e=t.length-1;0<=e;e--)if(t[e].remove(),l.querySelectorAll(".toast").length===0){l.remove();r=0}}}}const tBoard=toastBoard();openBtn.addEventListener("click",e=>{"BUTTON"===e.target.nodeName&&(e=e.target.textContent,tBoard.addToast(e,"This is Toast Testing.",{containerClass:"top-right",toastIcon:!0,closeButton:!0,clickToClose:!0,theme:"icon-bg",round:!0}))}),clearBtn.addEventListener("click",tBoard.clearContainer);